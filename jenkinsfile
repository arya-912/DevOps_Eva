pipeline {
	agent any

	tools {
		nodeJs 'node_eva'
	}

	job {

	}

	stages {
		stage('Clone repo') {
			steps {
				sh 'git clone DevOps_Eva'
			}
		}
		stage('Install dependencies') {
			steps {
				sh 'npm install'
			}
		}
		stage('Run the test') {
			steps {
				sh 'npm test' || echo "No tests defined"
			}
		}
		stage('Build') {
			steps {
				sh 'npm run build'
			}
		}
	}
}